
@inject SignInManager<ApplicationUser> SignInManager
@inject ISubjectsRepository subjectRepo
@inject IExamCodesRepository examCodeRepo
@inject IPaperMarkingRateRepository papercodesRepo
@inject IVenueRepository venueRepo
@inject IActivityRepository activityRepo
@using ExaminerPaymentSystem.Interfaces.ExaminerRecruitmentInterface
@inject IExaminerRecruitmentVenueDetailsRepository ExaminerRecruitsVenue
@inject Microsoft.Extensions.Options.IOptions<AppInfo> AppInfo


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] -    @AppInfo.Value.SystemName</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
       <link href="~/lib/font-awesome/css/all.css" rel="stylesheet" />
    <link href="~/css/home.css" rel="stylesheet" />
@*     <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" /> *@

    <link href="~/css/datatables.css" rel="stylesheet" />
    <link href="~/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="~/css/buttons.dataTables.min.css" rel="stylesheet" />
 

    <link rel="icon" href="~/favicon.ico" type="image/x-icon" />
    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon" />

    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
   
    
    <link rel="stylesheet" href="~/ExaminerPaymentSystem.styles.css" asp-append-version="true" />
    <link href="~/css/select2.min.css" rel="stylesheet" />
    <link href="~/css/select2-bootstrap-5-theme.min.css" rel="stylesheet" />
    <link href="~/css/select2-bootstrap-5-theme.rtl.min.css" rel="stylesheet" />



    <script src="~/js/jquery-3.6.0.min.js"></script>

    <script src="~/js/jquery.dataTables.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
   
    <script src="~/js/dataTables.buttons.min.js"></script>
    <script src="~/js/jszip.min.js"></script>
    <script src="~/js/pdfmake.min.js"></script>
    <script src="~/js/vfs_fonts.js"></script>
    <script src="~/js/buttons.html5.min.js"></script>
    <script src="~/js/buttons.print.min.js"></script>
    <script src="~/js/select2.min.js"></script>

    @*     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script> *@
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD" crossorigin="anonymous">

    <script src="~/js/site.js" asp-append-version="true"></script>


    <script src="~/js/sweetalert2.all.js"></script>

 
   
</head>
<body>
    @{
        IEnumerable<Subjects> subjects = await subjectRepo.GetAllPaperCodes();
        IEnumerable<ExamCodes> examCodes = await examCodeRepo.GetAllExamCodes();
        IEnumerable<Venue> venues = await venueRepo.VenuesGetAll();
        IEnumerable<Activity> activities = await activityRepo.GetAllActivitiesAsync();
        IEnumerable<ExaminerRecruitmentVenueDetails> examinerRecruitsVenues = await ExaminerRecruitsVenue.GetAllAsync();


        var subjectArray = Newtonsoft.Json.JsonConvert.SerializeObject(subjects);
        int currentYear = DateTime.Now.Year;
        int lastYear = currentYear - 1;

    
    }




    <nav class="navbar navbar-expand-lg navbar-dark sticky-top" style="background-color:#153355;">
        <div class="container-fluid px-3">
            <!-- Logo -->
            <a class="navbar-brand py-1 me-3" href="#">
                <img src="~/Images/logo.jpeg" alt="Logo" style="height: 36px;">
            </a>

            <!-- Mobile toggle -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar content with scrollable wrapper -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <div class="navbar-scrollable">
                    <ul class="navbar-nav me-auto text-white">

                        @if (User.IsInRole("Examiner") || User.IsInRole("DPMS") || User.IsInRole("BMS") || User.IsInRole("RPMS") || User.IsInRole("A"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                                <li class="nav-item">
                            <a href="/Examiner/Index" class="nav-link text-white">
    <i class="fas fa-user-edit fa-sm me-1"></i>Update Details
</a>
 </li>
                              <li class="nav-item">
                                <a class="nav-link text-white"  href="/TandS/Index" >
                                    <i class="fas fa-file-signature fa-sm me-1"></i>T&S
                                </a>
                            </li>

                            @if (User.IsInRole("DPMS") || User.IsInRole("BMS") || User.IsInRole("RPMS"))
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-white"  href="/ExaminerScriptsMarked/Index">
                                        <i class="fas fa-file-alt fa-sm me-1"></i>Claim Scripts
                                    </a>
                                </li>

                                @if (User.IsInRole("DPMS") || User.IsInRole("RPMS"))
                                {

                                       <li class="nav-item">
                                                <a class="nav-link text-white"  href="/ExaminerScriptsMarked/Approval">
                                                    <i class="fas fa-check-circle fa-sm me-1"></i>Approve Scripts
                                                </a>
                                            </li>
                                   
                                }

                                 <li class="nav-item">
                                            <a class="nav-link text-white" asp-controller="Examiner" asp-action="ExaminerTransactionList">
                                               <i class="fas fa-users-cog fa-sm me-1"></i>Examiners List
                                            </a>
                                        </li>

                            }
                        }

                        @if (User.IsInRole("PMS"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                
                             <li class="nav-item">
                            <a href="/Examiner/Index" class="nav-link text-white">
    <i class="fas fa-user-edit fa-sm me-1"></i>Update Details
</a>
 </li>


                             <li class="nav-item">
                                <a class="nav-link text-white"  href="/TandS/Index">
                                    <i class="fas fa-file-signature fa-sm me-1"></i>T&S
                                </a>
                            </li>

                               

                            <li class="nav-item text-white">
                                <a class="nav-link text-white"  href="/ExaminerScriptsMarked/Index">
                                    <i class="fas fa-file-alt fa-sm me-1"></i>Claim Scripts
                                </a>
                            </li>

                            <li class="nav-item">
                                                <a class="nav-link text-white"  href="/ExaminerScriptsMarked/Approval">
                                                    <i class="fas fa-check-circle fa-sm me-1"></i>Approve Scripts
                                                </a>
                                            </li>

                                              <li class="nav-item">
                                            <a class="nav-link text-white" asp-controller="Examiner" asp-action="ExaminerTransactionList">
                                               <i class="fas fa-users-cog fa-sm me-1"></i>Examiners List
                                            </a>
                                        </li>
                        }




                        @* Examiner Recruitment menus *@

                        @if (User.IsInRole("HRVerifier") || User.IsInRole("HRCapturer"))
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-white" asp-area="" asp-controller="ExaminerRecruitment" asp-action="ExaminerIndex">New Trainees</a>
                                </li>

                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="ExaminerRecruitmentvenueDetails" asp-action="VenueIndex">Add Venues</a>
                            </li>

                            <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-white" href="#" id="examinerDropdown1" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Examiner Application
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="examinerDropdown1">
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#examinerModalForm">Invite Examiners For Training</a></li>
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#invitedTraineeExaminerModalForm">Invited Examiners List</a></li>
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#examinerRegisterModal">Register</a></li>
                                        <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#examinerAssesmentModal">Assessment</a></li>
                                    </ul>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-white" href="#" id="gradesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        Grades Report
                                    </a>
                                <ul class="dropdown-menu" aria-labelledby="gradesDropdown">
                                    
                                        <li><a class="dropdown-item" asp-action="PartiallyCapturedGradesIndex" asp-controller="ExaminerRecruitmentAssessment">Partially Captured</a></li>
                                    <li><a class="dropdown-item" asp-action="AllCapuredIndex" asp-controller="ExaminerRecruitmentAssessment">All Captured</a></li>
                                        <li><a class="dropdown-item" asp-action="PresentExaminerTraineesWithoutGrades" asp-controller="ExaminerRecruitmentRegister">Examiners not captured</a></li>
                                        <li><a class="dropdown-item" asp-action="GoodExaminerRecruitsEntiesReport" asp-controller="ExaminerRecruitmentAssessment">Comprehensive report</a></li>
                                    </ul>
                                </li>
                            }


                        @if (User.IsInRole("BT") || User.IsInRole("PBT") || User.IsInRole("PBT") || User.IsInRole("I") || User.IsInRole("S"))
                        {
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                              <li class="nav-item">
                            <a href="/Examiner/Index" class="nav-link text-white">
    <i class="fas fa-user-edit fa-sm me-1"></i>Update Details
</a>
 </li>
                              <li class="nav-item">
                                <a class="nav-link text-white"  href="/TandS/Index" >
                                    <i class="fas fa-file-signature fa-sm me-1"></i>T&S
                                </a>
                            </li>

                           
                        }

                        @if (User.IsInRole("OfficerSpecialNeeds"))
                        {
                            <li class="nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="ExaminerScriptsMarked" asp-action="AandTList">
                                    <i class="fas fa-list fa-sm me-1"></i>Transcribers
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="Users" asp-action="IndexTranscribers">
                                    <i class="fas fa-users-cog fa-sm me-1"></i>Users
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="ExaminerRegister" asp-action="IndexT">
                                    <i class="fas fa-clipboard-list fa-sm me-1"></i>Register
                                </a>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-file-alt fa-sm me-1"></i>Scripts
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark">
                                    <li><a class="dropdown-item" asp-action="TranscriberApproval"><i class="fas fa-check-circle fa-sm me-2"></i>Approval</a></li>
                                    <li><a class="dropdown-item" asp-action="Transcriber"><i class="fas fa-file-contract fa-sm me-2"></i>Transcribed</a></li>
                                </ul>
                            </li>
                        }


                        @if (User.IsInRole("SubjectManager") || User.IsInRole("CentreSupervisor"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home me-1"></i>Home
                                </a>
                            </li>

                            <!-- Dropdown with modern styling -->
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle  text-white" href="#" id="maintainExaminersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-user-edit me-1"></i>Maintain Examiners
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="maintainExaminersDropdown">
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#exTListModal"><i class="fas fa-envelope me-2"></i>Present Examiners</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#exListModal"><i class="fas fa-users me-2"></i>All Examiners</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#usersModal"><i class="fas fa-user-cog me-2"></i>User Profiles</a></li>
                                </ul>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle  text-white" href="#" id="approvalsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-check-double me-1"></i>Approvals
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="approvalsDropdown">
                                    @if (User.IsInRole("CentreSupervisor"))
                                    {
                                        <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#tandsApprovalModal"><i class="fas fa-clipboard-check me-2"></i>T and S</a></li>
                                    }
                                    @if (User.IsInRole("SubjectManager"))
                                    {
                                        <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#tandsApprovalModal2"><i class="fas fa-list-ol me-2"></i>T and S</a></li>
                                    }
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#approveScripts"><i class="fas fa-file-signature me-2"></i>Scripts Marked</a></li>
                                  
                                </ul>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle  text-white" href="#" id="brailleTranscribersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-braille me-1"></i>Braille Transcribers
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="brailleTranscribersDropdown">
                                      <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transTeamModal"><i class="fas fa-users me-2"></i>Select Transcribers</a></li>
                                        <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transListModal"><i class="fas fa-users me-2"></i>Transcribers</a></li>
                                      <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transSelectedModal"><i class="fas fa-users me-2"></i>Selected</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transRegisterModal"><i class="fas fa-calendar-check me-2"></i>Attendance Register</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transTandS"><i class="fas fa-list-ul me-2"></i>Transcribers T n S</a></li>
                                  
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transUsersModal"><i class="fas fa-user-tie me-2"></i>Transcribers (Users)</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#scriptsTransModal" ><i class="fas fa-file-alt me-2"></i>Scripts Transcribed</a></li>
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#approveScriptsTransModal" ><i class="fas fa-check-circle me-2"></i>Approve Scripts Transcribed</a></li>
                                </ul>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-white" href="#" id="scriptsDataDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-database me-1"></i>Scripts Captured
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="scriptsDataDropdown">
                                    <li><a class="dropdown-item text-white"  href="/MarksCaptured/Index" ><i class="fas fa-marker me-2"></i>Marks Captured</a></li>
                                
                                </ul>
                            </li>

                            @if (User.IsInRole("SubjectManager"))
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-white" data-bs-toggle="modal" data-bs-target="#registerModal">
                                        <i class="fas fa-clipboard-list me-1"></i>Attendance Register
                                    </a>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-white" href="#" id="teamDataDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-users-cog me-1"></i>Manage Teams
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="teamDataDropdown">
                                        <li><a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#teamModal"><i class="fas fa-sitemap me-2"></i>Team Structure</a></li>
                                
                                    </ul>
                                </li>
                            }

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-chart-bar me-1"></i>Reports
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="TandSCheckReport"><i class="fas fa-file-excel me-2"></i>T and S Reporting</a></li>
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="ScriptsMarkedCheckReport"><i class="fas fa-file-csv me-2"></i>Script Marked Reporting</a></li>
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="ReportRegister"><i class="fas fa-file-pdf me-2"></i>Register Report</a></li>
                                       <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="CheckList"><i class="fas fa-file-excel me-2"></i>Clear Me</a></li>
                                </ul>
                            </li>
                        }



                        @if (User.IsInRole("Accounts") || User.IsInRole("AssistantAccountant") || User.IsInRole("PeerReviewer"))
                        {
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>

                            @if (@AppInfo.Value.SystemName == "Exam Monitors System")
                            {

                                @if (User.IsInRole("Accounts"))
                                {
                                    <li class="nav-item dropdown compact-nav-item">
                                        <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                            <i class="fas fa-money-bill-wave fa-sm me-1"></i>Process Monitors
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-dark">
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexAccounts">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Inbox
                                                </a>
                                            </li>
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexApproved">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Approved
                                                </a>
                                            </li>

                                        </ul>
                                    </li>
                                }

                                 @if(User.IsInRole("PeerReviewer"))
                                 {
                                    <li class="nav-item dropdown compact-nav-item">
                                        <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                            <i class="fas fa-money-bill-wave fa-sm me-1"></i>Process Monitors
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-dark">
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexAccounts">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Inbox
                                                </a>
                                            </li>
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexApproved">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Approved
                                                </a>
                                            </li>

                                        </ul>
                                    </li>
                                 }
                               

                            } 
                            
                            @if(@AppInfo.Value.SystemName ==   "Examiner Payment System")
                            {
                                @if (User.IsInRole("Accounts") || User.IsInRole("AssistantAccountant"))
                                {
                                   
                                    <li class="nav-item dropdown compact-nav-item">
                                        <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                            <i class="fas fa-money-bill-wave fa-sm me-1"></i>Process Payments
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-dark">
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleVenue">
                                                    <i class="fas fa-check-circle fa-sm me-2"></i>Approve T and S
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleVenue2">
                                                    <i class="fas fa-list fa-sm me-2"></i>T n S Full List
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item text-white" href="/Transaction/Index">
                                                    <i class="fas fa-calculator fa-sm me-2"></i>Calculate PaySheet
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleeeVenue">
                                                    <i class="fas fa-braille fa-sm me-2"></i>Transcribers T n S List
                                                </a>
                                            </li>
                                        </ul>
                                    </li>

                                    <li class="nav-item dropdown compact-nav-item">
                                        <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                            <i class="fas fa-money-bill-wave fa-sm me-1"></i>Process Monitors
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-dark">
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexAccounts">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Inbox
                                                </a>
                                            </li>
                                            <li class="nav-item compact-nav-item">
                                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/IndexApproved">
                                                    <i class="fas fa-list-alt fa-sm me-1"></i>T and S Approved
                                                </a>
                                            </li>
                                        </ul>
                                    </li>
                                }

                                @if (User.IsInRole("PeerReviewer"))
                                {
                                    <li class="nav-item dropdown compact-nav-item">
                                        <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                            <i class="fas fa-search-dollar fa-sm me-1"></i>Review Payments
                                        </a>
                                        <ul class="dropdown-menu dropdown-menu-dark">
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleVenue">
                                                    <i class="fas fa-clipboard-check fa-sm me-2"></i>Review T and S
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleVenue2">
                                                    <i class="fas fa-list-ol fa-sm me-2"></i>T and S Full List
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item text-white" data-bs-toggle="modal" data-bs-target="#exampleeeVenue">
                                                    <i class="fas fa-braille fa-sm me-2"></i>Transcribers T n S List
                                                </a>
                                            </li>
                                        </ul>
                                    </li>

                                  
                                }

                                <li class="nav-item dropdown compact-nav-item">
                                    <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                        <i class="fas fa-sliders-h fa-sm me-1"></i>Maintain Rates
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark">
                                        <li>
                                            <a class="dropdown-item text-white" href="/PaperMarkingRate/Index">
                                                <i class="fas fa-file-invoice-dollar fa-sm me-2"></i>Paper Marking Rates
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" href="/CategoryRate/Index">
                                                <i class="fas fa-tags fa-sm me-2"></i>Category Marking Rates
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" href="/Transaction/RateAndTax">
                                                <i class="fas fa-percentage fa-sm me-2"></i>Maintain WHT and Current Rate
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-area="" asp-controller="TandS" asp-action="AdvanceFees">
                                                <i class="fas fa-receipt fa-sm me-2"></i>T n S Rates
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-area="" asp-controller="Transaction" asp-action="SettingFees">
                                                <i class="fas fa-receipt fa-sm me-2"></i>Setting Fees
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-area="" asp-controller="Transaction" asp-action="ActivityRate">
                                                <i class="fas fa-receipt fa-sm me-2"></i>Activity Rate
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-area="" asp-controller="BrailleTranscriptionRate" asp-action="Index">
                                                <i class="fas fa-braille fa-sm me-2"></i>Braille Transcription Rate
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-area="" asp-controller="MarksCaptured" asp-action="AccountsMarksCaptured">
                                                <i class="fas fa-marker fa-sm me-2"></i>Marks Captured
                                            </a>
                                        </li>
                                    </ul>
                                </li>

                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2" href="/Bank/Index">
                                        <i class="fas fa-university fa-sm me-1"></i>Maintain Banks
                                    </a>
                                </li>

                                <li class="nav-item dropdown compact-nav-item">
                                    <a class="nav-link dropdown-toggle px-2 text-white" href="#" data-bs-toggle="dropdown">
                                        <i class="fas fa-chart-bar fa-sm me-1"></i>Reports
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark">

                                        <li>
                                            <a class="dropdown-item text-white" asp-action="TravellingAndSubstance" asp-controller="Reports">
                                                <i class="fas fa-file-excel fa-sm me-2"></i>T n S Reports
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" asp-action="ExaminerPayments" asp-controller="Reports">
                                                <i class="fas fa-file-invoice-dollar fa-sm me-2"></i>Examiner Payments Reports
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item text-white" href="/Reports/TravellingAndSubstanceTranscribers">
                                                <i class="fas fa-braille fa-sm me-2"></i>T and S Transcribers Report
                                            </a>
                                        </li>

                                        <li>
                                            <a class="dropdown-item text-white" asp-action="TandSAccountsReport" asp-controller="Reports">
                                                <i class="fas fa-file-excel fa-sm me-2"></i>T n S Accounts Reports(Update Payment)
                                            </a>
                                        </li>

                                        <li>
                                            <a class="dropdown-item text-white" asp-action="EPSAccountsReport" asp-controller="Reports">
                                                <i class="fas fa-file-excel fa-sm me-2"></i>EPS Accounts Reports(Update Payment)
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            }
                            }

                        
                          

                             @if (User.IsInRole("ExamsAdmin"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                              <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Venue/Index" >
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Maintain Venues
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Activities/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Maintain Activities
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/SubjectVenue/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Subject Venues
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Materials/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Material Master
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/CheckInCheckOut/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Check Out Check In
                                </a>
                            </li>

                            <li class="nav-item dropdown compact-nav-item">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-user-cog fa-sm me-1"></i>Export To Oracle
                                </a>
                                <div class="dropdown-menu dropdown-menu-dark">
                                 
                                    <a class="dropdown-item" asp-area="" asp-controller="Examiner" asp-action="ExportExaminersToOracle">
                                        <i class="fas fa-braille fa-sm me-2"></i>Export Examiners To Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Examiner" asp-action="ImportExaminersFromOracle">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Import Examiners From Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Transaction" asp-action="ExportExaminerRefCatToOracle">
                                        <i class="fas fa-braille fa-sm me-2"></i>Export Share PanelsTo Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Transaction" asp-action="ExportExaminerTransactionToOracle">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Export Selected Examiners To Oracle
                                    </a>

                                  
                                </div>
                            </li>

                            <li class="nav-item dropdown compact-nav-item">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-user-cog fa-sm me-1"></i> Reports
                                </a>
                                <div class="dropdown-menu dropdown-menu-dark">
                               @*      <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report">
                                        <i class="fas fa-braille fa-sm me-2"></i>Report
                                    </a> *@
                                    <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report2">
                                        <i class="fas fa-braille fa-sm me-2"></i>Selected Examiners (Subject)
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report3">
                                        <i class="fas fa-braille fa-sm me-2"></i>Selected Examiners Report
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report4">
                                        <i class="fas fa-braille fa-sm me-2"></i> Check Progress Report
                                    </a>
                                </div>
                            </li>
                        
                        
                        }


                             @if(@AppInfo.Value.SystemName ==   "Examiner Payment System")
                            {
                        @if (User.IsInRole("Admin") || User.IsInRole("SuperAdmin"))
                        {
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Home
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" data-bs-toggle="modal" data-bs-target="#exListModal">
                                    <i class="fas fa-users fa-sm me-1"></i>Examiners List
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2"  href="/Bank/Index" >
                                    <i class="fas fa-university fa-sm me-1"></i>Maintain Banks
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Venue/Index" >
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Maintain Venues
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Activities/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Maintain Activities
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/SubjectVenue/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Subject Venues
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Materials/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>Material Master
                                </a>
                            </li> 
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/ExamSessions/Index">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>ExamSessions
                                </a>
                            </li>
                             <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/Examiner/BulkAddExaminers">
                                    <i class="fas fa-map-marker-alt fa-sm me-1"></i>BulkAddExaminers
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2" href="/AuditTrails/Index"   >
                                    <i class="fas fa-history fa-sm me-1"></i>Audit Trail
                                </a>
                            </li>

                            <li class="nav-item dropdown compact-nav-item">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-receipt fa-sm me-1"></i>Maintain T n S
                                </a>
                                <div class="dropdown-menu dropdown-menu-dark">
                                    <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#exampleVenue2">
                                        <i class="fas fa-list fa-sm me-2"></i>T n S Full List
                                    </a>
                                </div>
                            </li>

                             <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle  text-white" href="#" id="brailleTranscribersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-braille me-1"></i>Braille Transcribers
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="brailleTranscribersDropdown">
                                      <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transTeamModal"><i class="fas fa-users me-2"></i>Select Transcribers</a></li>
                                        <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transListModal"><i class="fas fa-users me-2"></i>Transcribers</a></li>
                                      <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transSelectedModal"><i class="fas fa-users me-2"></i>Selected</a></li>
     
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transTandS"><i class="fas fa-list-ul me-2"></i>Transcribers T n S</a></li>
                                  
                                    <li><a class="dropdown-item  text-white" data-bs-toggle="modal" data-bs-target="#transUsersModal"><i class="fas fa-user-tie me-2"></i>Transcribers (Users)</a></li>

                                </ul>
                            </li>

                            <li class="nav-item dropdown compact-nav-item">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-user-cog fa-sm me-1"></i>Maintain Users
                                </a>
                                <div class="dropdown-menu dropdown-menu-dark">
                                    <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#usersModal">
                                        <i class="fas fa-user-edit fa-sm me-2"></i>Maintain Examiners
                                    </a>
                       
                                    <a class="dropdown-item" asp-area="" asp-controller="Users" asp-action="IndexStaff">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Maintain Zimsec Staff
                                    </a>
                                </div>
                            </li>

                            <li class="nav-item dropdown compact-nav-item">
                                <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                    <i class="fas fa-user-cog fa-sm me-1"></i>Export To Oracle
                                </a>
                                <div class="dropdown-menu dropdown-menu-dark">
                                   <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report">
                                    <i class="fas fa-braille fa-sm me-2"></i>Check List
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report2">
                                        <i class="fas fa-braille fa-sm me-2"></i>Selected Examiners (Subject)
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report3">
                                        <i class="fas fa-braille fa-sm me-2"></i>Selected Examiners (Full)
                                    </a>
                                       <a class="dropdown-item" asp-area="" asp-controller="ManageTeams" asp-action="Report4">
                                        <i class="fas fa-braille fa-sm me-2"></i>Download Org Card
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Examiner" asp-action="ExportExaminersToOracle">
                                        <i class="fas fa-braille fa-sm me-2"></i>Export Examiners To Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Examiner" asp-action="ImportExaminersFromOracle">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Import Examiners From Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Transaction" asp-action="ExportExaminerRefCatToOracle">
                                        <i class="fas fa-braille fa-sm me-2"></i>Export Share PanelsTo Oracle
                                    </a>
                                    <a class="dropdown-item" asp-area="" asp-controller="Transaction" asp-action="ExportExaminerTransactionToOracle">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Export Selected Examiners To Oracle
                                    </a>

                              @*       <a class="dropdown-item" asp-area="" asp-controller="Transaction" asp-action="ImportExaminerTransactionFromOracle">
                                        <i class="fas fa-user-tie fa-sm me-2"></i>Import Selected Examiners From Oracle
                                    </a> *@
                                </div>
                            </li>
                           
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-chart-bar me-1"></i>Reports
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="TandSCheckReport"><i class="fas fa-file-excel me-2"></i>T and S Reporting</a></li>
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="ScriptsMarkedCheckReport"><i class="fas fa-file-csv me-2"></i>Script Marked Reporting</a></li>
                                    <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="ReportRegister"><i class="fas fa-file-pdf me-2"></i>Register Report</a></li>
                                       <li><a class="dropdown-item text-white" asp-area="" asp-controller="Reports" asp-action="CheckList"><i class="fas fa-file-excel me-2"></i>Clear Me</a></li>
                                </ul>
                            </li>
                            }
                        }else{

                            @if (User.IsInRole("Admin") || User.IsInRole("SuperAdmin"))
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                        <i class="fas fa-home fa-sm me-1"></i>Dashboard
                                    </a>
                                </li>
                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/ExamMonitors/Recruitment">
                                        <i class="fas fa-user-tie fa-sm me-1"></i>New Applications
                                    </a>
                                </li>
                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/ExamMonitors/Index">
                                        <i class="fas fa-user-tie fa-sm me-1"></i>Accepted Monitors
                                    </a>
                                </li>
                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/ExamMonitorsTransactions/Index">
                                        <i class="fas fa-check-circle fa-sm me-1"></i>Selected Monitors
                                    </a>
                                </li>

                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/Phases/Index">
                                        <i class="fas fa-sitemap fa-sm me-1"></i>Phases
                                    </a>
                                </li>

                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/Centres/Index">
                                        <i class="fas fa-university fa-sm me-1"></i>Manage Centres
                                    </a>
                                </li>
                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/Districts/Index">
                                        <i class="fas fa-sitemap fa-sm me-1"></i>Districts
                                    </a>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-chart-bar me-1"></i>Reports
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                        <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/AssignmentReport"><i class="fas fa-file-excel me-2"></i>Deployment Report</a></li>

                                    </ul>
                                </li>

                                <li class="nav-item dropdown compact-nav-item">
                                    <a class="nav-link dropdown-toggle px-2" href="#" data-bs-toggle="dropdown">
                                        <i class="fas fa-user-cog fa-sm me-1"></i>Maintain Users
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-dark">
                                        <a class="dropdown-item" href="/Users/IndexExamMonitors">
                                            <i class="fas fa-user-edit fa-sm me-2"></i>Maintain Monitors
                                        </a>

                                        <a class="dropdown-item" asp-area="" asp-controller="Users" asp-action="IndexStaff">
                                            <i class="fas fa-user-tie fa-sm me-2"></i>Maintain Zimsec Staff
                                        </a>
                                    </div>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="fas fa-chart-bar me-1"></i>Reports
                                    </a>
                                    <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                        <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/ExamMonitorsReport"><i class="fas fa-file-excel me-2"></i>Exam Monitors Report</a></li>
                                        <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/AssignmentReport"><i class="fas fa-file-excel me-2"></i>Deployment Report</a></li>
                                        <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/ClusterReport"><i class="fas fa-file-excel me-2"></i>Centres Report</a></li>
                                    </ul>
                                </li>

                            }

                        }

                        @if (User.IsInRole("RegionalManager"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Dashboard
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTransactions/Index">
                                    <i class="fas fa-check-circle fa-sm me-1"></i>Deployed  Monitors
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitorApproval/RegisterIndex">
                                    <i class="fas fa-clipboard-check fa-sm me-1"></i>Approve Registers
                                </a>
                            </li>
                      

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTandSs/Generate">
                                    <i class="fas fa-check-circle fa-sm me-1"></i>Send Claims
                                </a>
                            </li>

                         
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/Centres/Index">
                                    <i class="fas fa-university fa-sm me-1"></i>Manage Centres
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/Districts/Index">
                                    <i class="fas fa-sitemap fa-sm me-1"></i>Districts 
                                </a>
                            </li>


                             <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/Users/IndexExamMonitors">
                                    <i class="fas fa-sitemap fa-sm me-1"></i>User Profiles
                                </a>
                            </li>

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-chart-bar me-1"></i>Reports
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                    <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/AssignmentReport"><i class="fas fa-file-excel me-2"></i>Deployment Report</a></li>
                                    <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/ClusterReport"><i class="fas fa-file-excel me-2"></i>Centres Report</a></li>
                                </ul>
                            </li>
                        }

                        @if (User.IsInRole("HR"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Dashboard
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitors/Recruitment">
                                    <i class="fas fa-user-tie fa-sm me-1"></i>Applications
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitors/Index">
                                    <i class="fas fa-user-tie fa-sm me-1"></i>Shortlisted Monitors
                                </a>
                            </li>
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitorsTransactions/Index">
                                    <i class="fas fa-check-circle fa-sm me-1"></i>Deployed Monitors
                                </a>
                            </li>

                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/Phases/Index">
                                    <i class="fas fa-sitemap fa-sm me-1"></i>Phases
                                </a>
                            </li>

                        

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle text-white" href="#" id="reportsDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                    <i class="fas fa-chart-bar me-1"></i>Reports
                                </a>
                                <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="reportsDropdown">
                                    <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/ExamMonitorsReport"><i class="fas fa-file-excel me-2"></i>Exam Monitors Report</a></li>
                                    <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/AssignmentReport"><i class="fas fa-file-excel me-2"></i>Deployment Report</a></li>
                                      <li><a class="dropdown-item text-white" href="/ExamMonitorsReports/ClusterReport"><i class="fas fa-file-excel me-2"></i>Centres Report</a></li>
                                </ul>
                            </li>

                        }


                        @if (User.IsInRole("ClusterManager") || User.IsInRole("AssistantClusterManager") || User.IsInRole("ResidentMonitor"))
                        {
                            <li class="nav-item">
                                <a class="nav-link text-white" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home fa-sm me-1"></i>Dashboard
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="/ExamMonitors/Edit" class="nav-link text-white">
                                    <i class="fas fa-user-edit fa-sm me-1"></i>Update Details
                                </a>
                            </li>
                  
                            <li class="nav-item compact-nav-item">
                                <a class="nav-link px-2 text-white" href="/ExamMonitorsRegister/Create">
                                    <i class="fas fa-clipboard-list fa-sm me-1"></i>Attendance Register
                                </a>
                            </li>

    @if (User.IsInRole("ClusterManager"))
    {
                              

                                <li class="nav-item compact-nav-item">
                                    <a class="nav-link px-2 text-white" href="/ExamMonitorApproval/RegisterIndex">
                                        <i class="fas fa-clipboard-list fa-sm me-1"></i>Approve Register
                                    </a>
                                </li>
    }
    
                        }
                

                    <div class="modal fade" id="exListModal" tabindex="-1" aria-labelledby="exListLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exListLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="exListForm" method="post" action="@Url.Action("ExaminerList", "Examiner")">
                                        <div class="mb-3">
                                            <label for="exListExamCode" class="form-label text-black">Exam Level and Session:</label>
                                            <select id="exListExamCode" name="examCode" class="form-select" required>
                                                <option value="">-- Select Session --</option>
                                                @foreach (var examCode in examCodes)
                                                {
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out int examYear) && examCode.ACTIVATED_SESSION == "Activated")
                                                    {
                                                        <option value="@examCode.EXM_EXAM_CODE">
                                                            @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                        </option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="exListSubject" class="form-label text-black">Subject:</label>
                                            <select id="exListSubject" name="subjectCode" class="form-select" required>
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="exListPaperCode" class="form-label text-black">Paper Code:</label>
                                            <select id="exListPaperCode" name="paperCode" class="form-select" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="venuePaperCode2" class="text-black">Activity:</label>
                                            <select id="exListPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3" id="exListregionCodeContainer" style="display: none;">
                                            <label for="regionCode" class="text-black">Choose Region:</label>
                                            <select id="exListregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="exListForm" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="modal fade" id="exTListModal" tabindex="-1" aria-labelledby="exTListLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exListLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="exTListForm" method="post" action="@Url.Action("ExaminerTransactionList", "Examiner")">
                                        <div class="mb-3">
                                            <label for="exTListExamCode" class="form-label text-black">Exam Level and Session:</label>
                                            <select id="exTListExamCode" name="examCode" class="form-select" required>
                                                <option value="">-- Select Session --</option>
                                                @foreach (var examCode in examCodes)
                                                {
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out int examYear) && examCode.ACTIVATED_SESSION == "Activated")
                                                    {
                                                        <option value="@examCode.EXM_EXAM_CODE">
                                                            @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                        </option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="exTListSubject" class="form-label text-black">Subject:</label>
                                            <select id="exTListSubject" name="subjectCode" class="form-select" required>
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="exTListPaperCode" class="form-label text-black">Paper Code:</label>
                                            <select id="exTListPaperCode" name="paperCode" class="form-select" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="venuePaperCode2" class="text-black">Activity:</label>
                                            <select id="exTListPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3" id="exTListregionCodeContainer" style="display: none;">
                                            <label for="regionCode" class="text-black">Choose Region:</label>
                                            <select id="exTListregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="exTListForm" class="btn btn-primary">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>





                    <div class="modal fade" id="usersModal" tabindex="-1" aria-labelledby="usersLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="usersLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="usersForm" method="post" action="@Url.Action("Index", "Users")">
                                        <div class="form-group">
                                            <label for="usersExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="usersExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="usersSubject" class="text-black">Subject:</label>
                                            <select id="usersSubject" name="subjectCode" class="form-control" required>
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="usersPaperCode" class="text-black">Paper Code:</label>
                                            <select id="usersPaperCode" name="paperCode" class="form-control" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="usersPaperCode" class="text-black">Activity:</label>
                                            <select id="usersPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3" id="usersregionCodeContainer" style="display: none;">
                                            <label for="regionCode" class="text-black">Choose Region:</label>
                                            <select id="usersregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="usersForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="modal fade" id="transUsersModal" tabindex="-1" aria-labelledby="usersLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="usersLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="transUsersForm" method="post" action="@Url.Action("TranscribersUsers", "Transcribers")">
                                        <div class="form-group">
                                            <label for="usersExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="usersExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>


                                        <div class="form-group mt-3">
                                            <label for="usersPaperCode" class="text-black">Activity:</label>
                                            <select id="usersPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                  

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transUsersForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="transSelectedModal" tabindex="-1" aria-labelledby="usersLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="usersLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="transSelectedForm" method="post" action="@Url.Action("SelectedTranscribers", "Transcribers")">
                                        <div class="form-group">
                                            <label for="usersExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="usersExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>


                                        <div class="form-group mt-3">
                                            <label for="usersPaperCode" class="text-black">Activity:</label>
                                            <select id="usersPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                  

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transSelectedForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                        <div class="modal fade" id="transRegisterModal" tabindex="-1" aria-labelledby="usersLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="usersLabel">Select Session, Subject, Paper, and Region</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="transRegisterForm" method="post" action="@Url.Action("TranscribersRegister", "Transcribers")">
                                        <div class="form-group">
                                            <label for="usersExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="usersExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>


                                        <div class="form-group mt-3">
                                            <label for="usersPaperCode" class="text-black">Activity:</label>
                                            <select id="usersPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                  

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transRegisterForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>




                    <div class="modal fade" id="tandsApprovalModal" tabindex="-1" aria-labelledby="tandsApprovalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="tandsApprovalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="tandsApprovalForm" method="post" action="@Url.Action("ApprovalList", "TandS")">
                                        <div class="form-group">
                                            <label for="Venue" class="text-black">Venue:</label>
                                            <select id="Venue" name="venue" class="form-control" required>
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                            <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApprovalExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="tandsApprovalExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear) )
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApprovalSubject" class="text-black">Subject:</label>
                                            <select id="tandsApprovalSubject" name="subjectCode" class="form-control" >
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApprovalPaperCode" class="text-black">Paper Code:</label>
                                            <select id="tandsApprovalPaperCode" name="paperCode" class="form-control" >
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>



                                        <div class="form-group mt-3" id="atregionCodeContainer" style="display: none;">
                                            <label for="atregionCode" class="text-black">Choose Region:</label>
                                            <select id="atregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="tandsApprovalForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                     <div class="modal fade" id="tandsApprovalModal2" tabindex="-1" aria-labelledby="tandsApprovalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="tandsApprovalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="tandsApproval2Form" method="post" action="@Url.Action("ApprovalList", "TandS")">
                                        <div class="form-group">
                                            <label for="Venue" class="text-black">Venue:</label>
                                            <select id="Venue" name="venue" class="form-control" required>
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                            <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApproval2ExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="tandsApproval2ExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear) )
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApproval2Subject" class="text-black">Subject:</label>
                                            <select id="tandsApproval2Subject" name="subjectCode" class="form-control" required >
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="tandsApproval2PaperCode" class="text-black">Paper Code:</label>
                                            <select id="tandsApproval2PaperCode" name="paperCode" class="form-control" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>



                                        <div class="form-group mt-3" id="at2regionCodeContainer" style="display: none;">
                                            <label for="at2regionCode" class="text-black">Choose Region:</label>
                                            <select id="at2regionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="tandsApproval2Form" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="modal fade" id="registerModal" tabindex="-1" aria-labelledby="registerModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="registerModalLabel">Select Session ,Subject ,Paper and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <form id="registerForm" method="post" action="@Url.Action("Index", "ExaminerRegister")">
                                        <div class="form-group">
                                            <label for="registerExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="registerExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;


                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;


                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">@examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="registerSubject" class="text-black">Subject:</label>
                                            <select id="registerSubject" name="subjectCode" class="form-control" required>
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="registerPaperCode" class="text-black">Paper Code:</label>
                                            <select id="registerPaperCode" name="paperCode" class="form-control" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="venuePaperCode2" class="text-black">Activity:</label>
                                            <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3" id="regionCodeContainer" style="display: none;">
                                            <label for="regionCode" class="text-black">Choose Region:</label>
                                            <select id="regionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>



                                    </form>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="registerForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="modal fade" id="teamModal" tabindex="-1" aria-labelledby="teamModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="teamModalLabel">Select Session ,Subject ,Paper and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <form id="teamForm" method="post" action="@Url.Action("SelectTeam", "ManageTeams")">
                                        <div class="form-group">
                                            <label for="teamExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="teamExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;


                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;


                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">@examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="teamSubject" class="text-black">Subject:</label>
                                            <select id="teamSubject" name="subjectCode" class="form-control" required>
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="teamPaperCode" class="text-black">Paper Code:</label>
                                            <select id="teamPaperCode" name="paperCode" class="form-control" required>
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                        <div class="form-group mt-3">
                                            <label for="teamPaperCode2" class="text-black">Activity:</label>
                                            <select id="teamPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                        <div class="form-group mt-3" id="teamregionCodeContainer" style="display: none;">
                                            <label for="teamregionCode" class="text-black">Choose Region:</label>
                                            <select id="teamregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>



                                    </form>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="teamForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                      <div class="modal fade" id="transTeamModal" tabindex="-1" aria-labelledby="teamModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="teamModalLabel">Select Session ,Subject ,Paper and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <form id="transTeamForm" method="post" action="@Url.Action("SelectTranscribers", "Transcribers")">
                                        <div class="form-group">
                                            <label for="teamExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="teamExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;


                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;


                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">@examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                        </div>

                              

                                        <div class="form-group mt-3">
                                            <label for="teamPaperCode2" class="text-black">Activity:</label>
                                            <select id="teamPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                       



                                    </form>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transTeamForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                      <div class="modal fade" id="transListModal" tabindex="-1" aria-labelledby="teamModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="teamModalLabel">Select Session ,Subject ,Paper and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <form id="transListForm" method="post" action="@Url.Action("TranscribersList", "Transcribers")">
                                        <div class="form-group">
                                            <label for="teamExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="teamExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;


                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;


                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">@examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                        </div>

                              

                                        <div class="form-group mt-3">
                                            <label for="teamPaperCode2" class="text-black">Activity:</label>
                                            <select id="teamPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                       



                                    </form>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transListForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    
                    
                      <div class="modal fade" id="transUsersModal" tabindex="-1" aria-labelledby="teamModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="teamModalLabel">Select Session ,Subject ,Paper and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">

                                    <form id="transUsersForm" method="post" action="@Url.Action("SelectTranscribers", "Transcribers")">
                                        <div class="form-group">
                                            <label for="teamExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="teamExamCode" name="examCode" class="form-control" required>
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;


                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;


                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">@examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR</option>
                                                        }
                                                    }
                                                }

                                            </select>
                                        </div>

                              

                                        <div class="form-group mt-3">
                                            <label for="teamPaperCode2" class="text-black">Activity:</label>
                                            <select id="teamPurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                <option value="">--Select Activity--</option>
                                                @foreach (var activity in activities)
                                                {
                                                    <option value="@activity.Value">@activity.Text</option>
                                                }
                                            </select>
                                        </div>

                                       



                                    </form>

                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="transUsersForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="modal fade" id="exampleVenue" tabindex="-1" aria-labelledby="exampleVenueModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exampleVenueModalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="venueForm" method="post" action="@Url.Action("TandSList", "TandS")">
                                        <div class="form-group">
                                            <label for="Venue" class="text-black">Venue:</label>
                                            <select id="Venue" name="venue" class="form-control" required>
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                            <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group">
                                            <label for="venueExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="venueExamCode" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear) )
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="venueSubject" class="text-black">Subject:</label>
                                            <select id="venueSubject" name="subjectCode" class="form-control" >
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="venuePaperCode" class="text-black">Paper Code:</label>
                                            <select id="venuePaperCode" name="paperCode" class="form-control" >
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                      

                                        <div class="form-group mt-3" id="tregionCodeContainer" style="display: none;">
                                            <label for="tregionCode" class="text-black">Choose Region:</label>
                                            <select id="tregionCode" name="tregionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="venueForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="modal fade" id="exampleVenue2" tabindex="-1" aria-labelledby="exampleVenueModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exampleVenue2ModalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="venueForm2" method="post" action="@Url.Action("TandSFullList", "TandS")">
                                        <div class="form-group">
                                            <label for="Venue2" class="text-black">Venue:</label>
                                            <select id="Venue2" name="venue" class="form-control">
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>

                                            <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group">
                                            <label for="venueExamCode2" class="text-black">Exam Level and Session:</label>
                                            <select id="venueExamCode2" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="venueSubject2" class="text-black">Subject:</label>
                                            <select id="venueSubject2" name="subjectCode" class="form-control" >
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="venuePaperCode2" class="text-black">Paper Code:</label>
                                            <select id="venuePaperCode2" name="paperCode" class="form-control" >
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                       

                                        <div class="form-group mt-3" id="ftregionCodeContainer" style="display: none;">
                                            <label for="ftregionCode" class="text-black">Choose Region:</label>
                                            <select id="ftregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="venueForm2" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>





                    <div class="modal fade" id="exampleeeVenue" tabindex="-1" aria-labelledby="exampleeeVenueModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exampleeeVenueModalLabel">Select Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="venueeeForm" method="post" action="@Url.Action("TandSAccountsList", "Transcribers")">
                                        <div class="form-group">
                                            <label for="Venue" class="text-black">Venue:</label>
                                            <select id="Venue" name="venue" class="form-control" required>
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                         <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group">
                                            <label for="venueExamCode2" class="text-black">Exam Level and Session:</label>
                                            <select id="venueExamCode2" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="venueeeForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="modal fade" id="transTandS" tabindex="-1" aria-labelledby="exaVenueModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="exaVenueModalLabel">Select Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="venueeForm" method="post" action="@Url.Action("TranscribersTandS", "Transcribers")">
                                        <div class="form-group">
                                            <label for="Venue" class="text-black">Venue:</label>
                                            <select id="Venue" name="venue" class="form-control" required>
                                                <option value="">-- Select Venue --</option>
                                                @foreach (var venue in venues)
                                                {
                                                    if (venue.Status == "Active")
                                                    {
                                                        <option value="@venue.Name">@venue.Name</option>
                                                    }
                                                }
                                            </select>
                                        </div>
                                         <div class="form-group mt-3">
                                                <label for="venuePaperCode2" class="text-black">Activity:</label>
                                                <select id="PurposeOfJourney" class="form-select form-select-sm" name="activity" required>
                                                    <option value="">--Select Activity--</option>
                                                    @foreach (var activity in activities)
                                                    {
                                                        <option value="@activity.Value">@activity.Text</option>
                                                    }
                                                </select>
                                            </div>
                                        <div class="form-group">
                                            <label for="venueExamCode2" class="text-black">Exam Level and Session:</label>
                                            <select id="venueExamCode2" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                                int currentYear = DateTime.Now.Year;
                                                int lastYear = currentYear - 1;
                                                @foreach (var examCode in examCodes)
                                                {
                                                    int examYear;
                                                    if (int.TryParse(examCode.EXM_EXAM_YEAR, out examYear))
                                                    {
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="venueeForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>


                      <div class="modal fade" id="approveScripts" tabindex="-1" aria-labelledby="approveScriptsModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="approveScripts2ModalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="approveScriptsForm" method="post" action="@Url.Action("Approval", "ExaminerScriptsMarked")">
                                      
                                        <div class="form-group">
                                            <label for="approveScriptsExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="approveScriptsExamCode" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                           
                                                @foreach (var examCode in examCodes)
                                                {
   
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    
                                                }
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="approveScriptsSubject" class="text-black">Subject:</label>
                                            <select id="approveScriptsSubject" name="subjectCode" class="form-control" >
                                                <option value="">-- Select Subject --</option>
                                            </select>
                                        </div>
                                        <div class="form-group mt-3">
                                            <label for="approveScriptsPaperCode" class="text-black">Paper Code:</label>
                                            <select id="approveScriptsPaperCode" name="paperCode" class="form-control" >
                                                <option value="">-- Select Paper Code --</option>
                                            </select>
                                        </div>

                                       

                                        <div class="form-group mt-3" id="approveScriptsregionCodeContainer" style="display: none;">
                                            <label for="approveScriptsregionCode" class="text-black">Choose Region:</label>
                                            <select id="approveScriptsregionCode" name="regionCode" class="form-control">
                                                <option value="">--- Select Region Code ---</option>
                                                <option value="01">01-Harare</option>
                                                <option value="02">02-Manicaland</option>
                                                <option value="03">03-Mashonaland East</option>
                                                <option value="04">04-Matabeleland North</option>
                                                <option value="05">05-Midlands</option>
                                                <option value="06">06-Masvingo</option>
                                                <option value="07">07-Mashonaland Central</option>
                                                <option value="08">08-Mashonaland West</option>
                                                <option value="09">09-Matabeleland South</option>
                                                <option value="10">10-Bulawayo</option>
                                            </select>
                                        </div>

                                    


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="approveScriptsForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    
                      <div class="modal fade" id="approveScriptsTransModal" tabindex="-1" aria-labelledby="approveScriptsModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="approveScripts2ModalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="approveScriptsTransForm" method="post" action="@Url.Action("ScriptsTranscibedApproval", "Transcribers")">
                                      
                                        <div class="form-group">
                                            <label for="approveScriptsExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="approveScriptsExamCode" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                           
                                                @foreach (var examCode in examCodes)
                                                {
   
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    
                                                }
                                            </select>
                                        </div>


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="approveScriptsTransForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                                 <div class="modal fade" id="scriptsTransModal" tabindex="-1" aria-labelledby="approveScriptsModalLabel" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title text-black" id="approveScripts2ModalLabel">Select Session, Subject, Paper, and Venue</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form id="scriptsTransForm" method="post" action="@Url.Action("ScriptsTranscribed", "Transcribers")">
                                      
                                        <div class="form-group">
                                            <label for="approveScriptsExamCode" class="text-black">Exam Level and Session:</label>
                                            <select id="approveScriptsExamCode" name="examCode" class="form-control">
                                                <option value="">-- Select Session --</option>
                                           
                                                @foreach (var examCode in examCodes)
                                                {
   
                                                        if (examCode.ACTIVATED_SESSION == "Activated")
                                                        {
                                                            <option value="@examCode.EXM_EXAM_CODE">
                                                                @examCode.EXM_EXAM_LEVEL @examCode.EXM_EXAM_SESSION @examCode.EXM_EXAM_YEAR
                                                            </option>
                                                        }
                                                    
                                                }
                                            </select>
                                        </div>


                                    </form>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn" style="background-color:red;color:white;" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" form="scriptsTransForm" class="btn" style="background-color: #153355;color:white;">Submit</button>
                                </div>
                            </div>
                        </div>
                    </div>



              </ul>
            </div>
            
            <!-- Login partial aligned to right -->
            <div class="d-flex ms-auto">
                @await Html.PartialAsync("_LoginPartial")
            </div>
        </div>
    </div>
</nav>






 
    <div class="container mb-4">
            <main role="main" class="pb-3">

                 @if (TempData["SweetAlert"] != null)
    {
        <script>
            $(document).ready(function () {
                var alertData = @Html.Raw(TempData["SweetAlert"]);
                Swal.fire(alertData);
            });
        </script>
    }
                @RenderBody()
            </main>
 
    </div>

    <footer class="footer text-white" style="background: linear-gradient(135deg, #0d2440, #153355);">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    <div class="d-flex align-items-center justify-content-center justify-content-md-start">
                        <img src="~/Images/logo.jpeg" alt="Logo" style="height: 30px; width: 30px; margin-right: 10px;" class="footer-logo">
                        <span class="fw-normal">&copy; @DateTime.Now.Year -    @AppInfo.Value.SystemName</span>
                    </div>
                </div>
                <div class="col-md-6 text-center text-md-end">
                    <div class="footer-links">
                        <a href="#" class="text-white mx-2 text-decoration-none hover-underline">Privacy Policy</a>
                        <a href="#" class="text-white mx-2 text-decoration-none hover-underline">Terms of Service</a>
                        <a href="#" class="text-white mx-2 text-decoration-none hover-underline">Contact Us</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <style>
      
        .footer {
            box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Use a suitable font family */
        }

            .footer::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                height: 3px;
                background: linear-gradient(90deg, red, black, #ffc107);
            }

        .footer-logo {
            transition: transform 0.3s ease;
        }

            .footer-logo:hover {
                transform: rotate(15deg) scale(1.1);
            }

        .hover-underline {
            position: relative;
            padding-bottom: 2px;
        }

            .hover-underline::after {
                content: "";
                position: absolute;
                bottom: 0;
                left: 0;
                width: 0;
                height: 1px;
                background-color: white;
                transition: width 0.3s ease;
            }

            .hover-underline:hover::after {
                width: 100%;
            }

        .footer-links a {
            transition: all 0.3s ease;
        }

            .footer-links a:hover {
                color: #ffc107 !important;
                transform: translateY(-2px);
            }
    </style>



     <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#approveScriptsExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#approveScriptsSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#approveScriptsSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#approveScriptsPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#approveScriptsregionCodeContainer').show();
                        $('#approveScriptsregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#approveScriptsregionCodeContainer').hide();
                        $('#approveScriptsregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#approveScriptsregionCodeContainer').hide();
                    $('#approveScriptsregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>
  

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#exListExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#exListSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#exListSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#exListPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#exListregionCodeContainer').show();
                        $('#exListregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#exListregionCodeContainer').hide();
                        $('#exListregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#exListregionCodeContainer').hide();
                    $('#exListregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#exTListExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#exTListSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#exTListSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#exTListPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#exTListregionCodeContainer').show();
                        $('#exTListregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#exTListregionCodeContainer').hide();
                        $('#exTListregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#exTListregionCodeContainer').hide();
                    $('#exTListregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#usersExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#usersSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#usersSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#usersPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));


                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#usersregionCodeContainer').show();
                        $('#usersregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#usersregionCodeContainer').hide();
                        $('#usersregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#usersregionCodeContainer').hide();
                    $('#usersregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>


 
    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

         
            $('#reportsExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#reportsSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

               
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

             
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

        
            $('#reportsSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#reportsPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#regionCodeContainer').show();
                        $('#regionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#regionCodeContainer').hide();
                        $('#regionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#regionCodeContainer').hide();
                    $('#regionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                 
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                console.log(paperCode);
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>



    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#ExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#Subject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#Subject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#PaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#regionCodeContainer').show();
                        $('#regionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#regionCodeContainer').hide();
                        $('#regionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#regionCodeContainer').hide();
                    $('#regionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#tandsApprovalExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#tandsApprovalSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#tandsApprovalSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#tandsApprovalPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#atregionCodeContainer').show();
                        $('#atregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#atregionCodeContainer').hide();
                        $('#atregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#atregionCodeContainer').hide();
                    $('#atregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

      <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#tandsApproval2ExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#tandsApproval2Subject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#tandsApproval2Subject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#tandsApproval2PaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#at2regionCodeContainer').show();
                        $('#at2regionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#at2regionCodeContainer').hide();
                        $('#at2regionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#at2regionCodeContainer').hide();
                    $('#at2regionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>
    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#ExamCode4').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#Subject4');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#Subject4').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#PaperCode4');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#regionCodeContainer').show();
                        $('#regionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#regionCodeContainer').hide();
                        $('#regionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#regionCodeContainer').hide();
                    $('#regionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>


    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Populate subjects when exam code changes
            $('#registerExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#registerSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Populate paper codes and check region code condition
            $('#registerSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#registerPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#regionCodeContainer').show();
                        $('#regionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#regionCodeContainer').hide();
                        $('#regionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#regionCodeContainer').hide();
                    $('#regionCode').removeAttr('required');
                }

                // Make AJAX call to get paper codes
                if (selectedSubjectId) {
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Populate subjects when exam code changes
            $('#teamExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#teamSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Populate paper codes and check region code condition
            $('#teamSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#teamPaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#teamregionCodeContainer').show();
                        $('#teamregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#teamregionCodeContainer').hide();
                        $('#teamregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#teamregionCodeContainer').hide();
                    $('#teamregionCode').removeAttr('required');
                }

                // Make AJAX call to get paper codes
                if (selectedSubjectId) {
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>


    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#venueExamCode').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#venueSubject');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#venueSubject').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#venuePaperCode');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#tregionCodeContainer').show();
                        $('#tregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#tregionCodeContainer').hide();
                        $('#tregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#tregionCodeContainer').hide();
                    $('#tregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            var subjects = @Html.Raw(subjectArray);

            // Function to populate subject dropdown based on selected exam code
            $('#venueExamCode2').change(function () {
                console.log("Exam code selection changed");
                var selectedExamCode = $(this).val();
                console.log("Selected exam code: " + selectedExamCode);
                var subjectSelect = $('#venueSubject2');
                subjectSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Subject --'));

                // Filter subjects based on selected exam code and remove duplicates
                var uniqueSubjects = {};
                subjects.forEach(function (subject) {
                    var subSubIdPrefix = subject.SUB_SUB_ID.substring(0, 3);
                    if (subSubIdPrefix === selectedExamCode) {
                        uniqueSubjects[subject.SUB_SUB_ID] = subject.SUB_SUBJECT_DESC;
                    }
                });

                // Populate subject dropdown with unique subjects
                Object.keys(uniqueSubjects).forEach(function (key) {
                    var optionText = key.substring(key.length - 4) + '-' + uniqueSubjects[key];
                    subjectSelect.append($('<option></option>').attr('value', key).text(optionText));
                    console.log("Appended subject: " + key);
                });
            });

            // Function to populate paper code dropdown based on selected subject
            $('#venueSubject2').change(function () {
                console.log("Subject selection changed");
                var selectedSubjectId = $(this).val();
                console.log("Selected subject ID: " + selectedSubjectId);
                var paperCodeSelect = $('#venuePaperCode2');
                paperCodeSelect.empty().append($('<option></option>').attr('value', '').text('-- Select Paper Code --'));

                if (selectedSubjectId && selectedSubjectId.length >= 4) {
                    var subjectCheck = selectedSubjectId.substring(3, 4);
                    console.log("Checking subject at 4th position: " + subjectCheck);

                    if (subjectCheck === '7') {
                        console.log("Subject has '7' at 4th position, showing regionCode dropdown.");
                        $('#ftregionCodeContainer').show();
                        $('#ftregionCode').attr('required', 'required');
                    } else {
                        console.log("Subject does not have '7' at 4th position, hiding regionCode dropdown.");
                        $('#ftregionCodeContainer').hide();
                        $('#ftregionCode').removeAttr('required');
                    }
                } else {
                    console.log("No subject selected or too short, hiding regionCode dropdown.");
                    $('#ftregionCodeContainer').hide();
                    $('#ftregionCode').removeAttr('required');
                }

                if (selectedSubjectId) {
                    // Make an AJAX call to get the paper codes
                    $.ajax({
                        url: '@Url.Action("GetPaperCodes", "Subjects")',
                        type: 'GET',
                        data: { subjectCode: selectedSubjectId },
                        success: function (data) {
                            data.forEach(function (paperCode) {
                                paperCodeSelect.append($('<option></option>').attr('value', paperCode.ppR_PAPER_CODE).text(paperCode.ppR_PAPER_CODE));
                                console.log("Appended paper code: " + paperCode.ppR_PAPER_CODE);
                            });
                        },
                        error: function (xhr, status, error) {
                            console.error("Error fetching paper codes: " + error);
                        }
                    });
                }
            });
        });
    </script>






    @* examiner recruitment modals *@


    <!-- Modal -->
    <div class="modal fade" id="examinerModalForm" tabindex="-1" aria-labelledby="examinerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <!-- Added modal-lg for wider modal -->
            <div class="modal-content">
                <form id="examinerInvitaionForm" asp-controller="ExaminerRecruitmentInvitation" asp-action="InviteIndex" method="get">
                    <div class="modal-header">
                        <h5 class="modal-title text-black" id="examinerModalLabel">Select Session</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <!-- Training Level -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Experience" class="levelSelect form-select academicQualification" required>
                                        <option value="">Select Training Level</option>
                                        <option value="A">A-Level</option>
                                        <option value="O">O-Level</option>
                                        <option value="G7">G-7</option>
                                    </select>
                                    <label for="levelSelect">Level to be trained</label>
                                </div>
                            </div>

                            <!-- Subject -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Subject" class="subjectSelect form-select subject">
                                        <option value="">Select training subject</option>
                                    </select>
                                    <label for="subjectSelect">Training Subject</label>
                                </div>
                            </div>

                            <!-- Paper Code -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="PaperCode" class="paperCodeSelect form-select">
                                        <option value="">Select training paper code</option>
                                    </select>
                                    <label for="paperCodeSelect">Training Paper Code</label>
                                </div>
                            </div>

                            <!-- Region -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Region" class="form-select regionSelect">
                                        <option value="">Select your region</option>
                                        <option value="01">01-Harare</option>
                                        <option value="02">02-Manicaland</option>
                                        <option value="03">03-Mashonaland East</option>
                                        <option value="04">04-Matabeleland North</option>
                                        <option value="05">05-Midlands</option>
                                        <option value="06">06-Masvingo</option>
                                        <option value="07">07-Mashonaland Central</option>
                                        <option value="08">08-Mashonaland West</option>
                                        <option value="09">09-Matabeleland South</option>
                                        <option value="10">10-Bulawayo</option>
                                    </select>
                                    <label>Region</label>
                                </div>
                            </div>


                            <!-- Venue details -->
                            <div class="form-group">
                                <label for="Venue" class="text-black">Venues</label>
                                <select name="ExaminerRecruitsVenue" class="form-control venue" required>
                                    <option value="">-- Select Venue --</option>
                                    @foreach (var venue in examinerRecruitsVenues)
                                    {

                                        <option value="@venue.Id">@venue.VenueName</option>

                                    }
                                </select>
                            </div>

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary btn-block cancelBtn" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary btn-block">Set</button>
                    </div>
                </form>

            </div>
        </div>
    </div>



    @* invited trainee examiners modal *@

    <!-- Modal -->
    <div class="modal fade" id="invitedTraineeExaminerModalForm" tabindex="-1" aria-labelledby="invitedTraineeExaminerModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <!-- Added modal-lg for wider modal -->
            <div class="modal-content">
                <form id="invitedTraineeExaminerForm" asp-controller="ExaminerRecruitmentEmailInvitation" asp-action="EmailInviteIndex" method="get">
                    <div class="modal-header">
                        <h5 class="modal-title text-black" id="invitedTraineeExaminerModalLabel">Select Session</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <!-- Training Level -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Experience" class="levelSelect form-select academicQualification" required>
                                        <option value="">Select Training Level</option>
                                        <option value="A">A-Level</option>
                                        <option value="O">O-Level</option>
                                        <option value="G7">G-7</option>
                                    </select>
                                    <label for="levelSelect">Level to be trained</label>
                                </div>
                            </div>

                            <!-- Subject -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Subject" class="subjectSelect form-select subject">
                                        <option value="">Select training subject</option>
                                    </select>
                                    <label for="subjectSelect">Training Subject</label>
                                </div>
                            </div>

                            <!-- Paper Code -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="PaperCode" class="paperCodeSelect form-select">
                                        <option value="">Select training paper code</option>
                                    </select>
                                    <label for="paperCodeSelect">Training Paper Code</label>
                                </div>
                            </div>

                            <!-- Region -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Region" class="form-select regionSelect">
                                        <option value="">Select your region</option>
                                        <option value="01">01-Harare</option>
                                        <option value="02">02-Manicaland</option>
                                        <option value="03">03-Mashonaland East</option>
                                        <option value="04">04-Matabeleland North</option>
                                        <option value="05">05-Midlands</option>
                                        <option value="06">06-Masvingo</option>
                                        <option value="07">07-Mashonaland Central</option>
                                        <option value="08">08-Mashonaland West</option>
                                        <option value="09">09-Matabeleland South</option>
                                        <option value="10">10-Bulawayo</option>
                                    </select>
                                    <label>Region</label>
                                </div>
                            </div>


                            <!-- Venue details -->
                            @*                             <div class="form-group">
                            <label for="Venue" class="text-black">Venues</label>
                            <select name="ExaminerRecruitsVenue" class="form-control venue" required>
                            <option value="">-- Select Venue --</option>
                            @foreach (var venue in examinerRecruitsVenues)
                            {

                            <option value="@venue.Id">@venue.VenueName</option>

                            }
                            </select>
                            </div> *@

                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary btn-block cancelBtn" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary btn-block">Set</button>
                    </div>
                </form>

            </div>
        </div>
    </div>


    <!-- register modal -->
    <div class="modal fade" id="examinerRegisterModal" tabindex="-1" aria-labelledby="examinerRegisterModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <form id="examinerRegisterForm" asp-controller="ExaminerRecruitmentRegister" asp-action="RegisterIndex" method="get">
                    <div class="modal-header">
                        <h5 class="modal-title text-black" id="examinerRegisterModalLabel">Select Session</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <!-- Training Level -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Experience" class="levelSelect form-select academicQualification" required>
                                        <option value="">Select Training Level</option>
                                        <option value="A">A-Level</option>
                                        <option value="O">O-Level</option>
                                        <option value="G7">G-7</option>
                                    </select>
                                    <label for="levelSelect">Level to be trained</label>
                                </div>
                            </div>

                            <!-- Subject -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Subject" class="subjectSelect form-select subject">
                                        <option value="">Select training subject</option>
                                    </select>
                                    <label for="subjectSelect">Training Subject</label>
                                </div>
                            </div>

                            <!-- Paper Code -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="PaperCode" class="paperCodeSelect form-select">
                                        <option value="">Select training paper code</option>
                                    </select>
                                    <label for="paperCodeSelect">Training Paper Code</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary btn-block cancelBtn" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary btn-block">Select</button>
                    </div>
                </form>
            </div>
        </div>
    </div>




    <!-- Assesment modal -->
    <div class="modal fade" id="examinerAssesmentModal" tabindex="-1" aria-labelledby="examinerAssesmentModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <form id="examinerAssementForm" asp-controller="ExaminerRecruitmentAssessment" asp-action="GradingIndex" method="get">
                    <div class="modal-header">
                        <h5 class="modal-title text-black" id="examinerAssesmentModalLabel">Select Session</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row g-3">
                            <!-- Training Level -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Experience" class="levelSelect form-select academicQualification" required>
                                        <option value="">Select Training Level</option>
                                        <option value="A">A-Level</option>
                                        <option value="O">O-Level</option>
                                        <option value="G7">G-7</option>
                                    </select>
                                    <label for="levelSelect">Level to be trained</label>
                                </div>
                            </div>

                            <!-- Subject -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="Subject" class="subjectSelect form-select subject">
                                        <option value="">Select training subject</option>
                                    </select>
                                    <label for="subjectSelect">Training Subject</label>
                                </div>
                            </div>

                            <!-- Paper Code -->
                            <div class="col-12 col-md-12 mb-3">
                                <div class="form-floating">
                                    <select name="PaperCode" class="paperCodeSelect form-select">
                                        <option value="">Select training paper code</option>
                                    </select>
                                    <label for="paperCodeSelect">Training Paper Code</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary btn-block cancelBtn" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-primary btn-block">Select</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Attach event listener to elements with the class 'cancelBtn'
        document.querySelectorAll('.cancelBtn').forEach(function (button) {
            button.addEventListener('click', function () {
                var form1 = document.getElementById('examinerRegisterForm');
                var form2 = document.getElementById('examinerInvitaionForm');
                var form3 = document.getElementById('examinerAssementForm');
                var form4 = document.getElementById('invitedTraineeExaminerForm');

                if (form1) form1.reset();
                if (form2) form2.reset();
                if (form3) form3.reset();
                if (form3) form4.reset();
            });
        });

    </script>


    @*     filter subjectst Kasu *@
    <script>
        $(document).ready(function () {
            // Delegate event handler for dynamically added rows
            $(document).on('change', '.academicQualification', function () {
                const $row = $(this).closest('.teaching-experience-row');
                const selectedValue = $(this).val();
                let prefix = '';

                // Determine prefix based on selected value
                if (selectedValue === 'A') {
                    prefix = '6';
                } else if (selectedValue === 'O') {
                    prefix = '4';
                } else if (selectedValue === 'G7') {
                    prefix = '7';
                }

                const $subjectDropdown = $row.find('.subject'); // Find the corresponding subject dropdown
                if (prefix) {
                    $.ajax({
                        url: `/ExaminerRecruitment/GetSubjects`,
                        type: 'GET',
                        data: { prefix: prefix },
                        success: function (data) {
                            $subjectDropdown.empty(); // Reset options
                            $subjectDropdown.append('<option value="">Select Subject</option>'); // Default option

                            $.each(data, function (index, subject) {
                                $subjectDropdown.append(
                                    $('<option>', {
                                        value: subject.suB_SUBJECT_CODE, // Use the appropriate field for the value
                                        text: subject.suB_SUBJECT_DESC, // Use the appropriate field for the display text
                                    })
                                );
                            });
                        },
                        error: function () {
                            alert('Error fetching subjects. Please try again.');
                        },
                    });
                } else {
                    $subjectDropdown.empty().append('<option value="">Select Subject</option>'); // Reset dropdown if no level selected
                }
            });

            // Add and remove rows dynamically
            $(document).on('click', '.add-row', function () {
                const $newRow = $('.teaching-experience-row:first').clone();
                $newRow.find('input, select').val(''); // Clear input values
                $newRow.find('.remove-row').show(); // Show remove button

                // Update the name attributes with the correct index
                const rowCount = $('#teachingExperienceList .teaching-experience-row').length;
                $newRow.find('input, select').each(function () {
                    const name = $(this).attr('name');
                    const newName = name.replace(/\[\d+\]/, `[${rowCount}]`); // Replace the index with the new row count
                    $(this).attr('name', newName);
                });

                $('#teachingExperienceList').append($newRow);
            });

            $(document).on('click', '.remove-row', function () {
                $(this).closest('.teaching-experience-row').remove();
            });




            $(document).ready(function () {
                $('.levelSelect').on('change', function () {
                    const selectedLevelValue = $(this).val();
                    let subjectPrefix = '';

                    // Determine prefix based on selected value
                    if (selectedLevelValue === 'A') {
                        subjectPrefix = '6';
                    } else if (selectedLevelValue === 'O') {
                        subjectPrefix = '4';
                    } else if (selectedLevelValue === 'G7') {
                        subjectPrefix = '7';
                    }

                    const $subjectDropdown = $('.subjectSelect'); // Find the corresponding subject dropdown

                    if (subjectPrefix) {
                        $.ajax({
                            url: `/ExaminerRecruitment/GetSubjectByLevelProfessional`,
                            type: 'GET',
                            data: { subjectPrefix: subjectPrefix },
                            success: function (data) {
                                $subjectDropdown.empty(); // Reset options
                                $subjectDropdown.append('<option value="">Select Subject</option>'); // Default option

                                $.each(data, function (index, subject) {
                                    $subjectDropdown.append(
                                        $('<option>', {
                                            value: subject.subSubjectCode,
                                            text: subject.subSubjectDesc
                                        })
                                    );
                                });
                            },
                            error: function (xhr, status, error) {
                                console.error('Error fetching subjects:', error);
                                alert('An error occurred while fetching subjects. Please try again.');
                            }
                        });
                    } else {
                        $subjectDropdown.empty().append('<option value="">Select Subject</option>'); // Reset dropdown if no level selected
                    }
                });
            });



            $(document).ready(function () {
                $(".subjectSelect").on("change", function () {
                    const subjectCode = $(this).val(); // Get selected subject code
                    const $paperCodeDropdown = $('.paperCodeSelect'); // Paper Code dropdown using ID

                    // Clear existing options and show loading indicator
                    $paperCodeDropdown.prop('disabled', true).empty().append('<option value="">Loading...</option>');

                    if (!subjectCode) {
                        $paperCodeDropdown.prop('disabled', false).empty().append('<option value="">Select subject first</option>');
                        return; // Exit if no subject is selected
                    }

                    // AJAX call to fetch paper codes
                    $.ajax({
                        url: `/ExaminerRecruitment/GetPaperCodesBySubjectCode`,
                        type: 'GET',
                        data: { subjectCode: subjectCode },
                        success: function (data) {
                            $paperCodeDropdown.empty(); // Reset options
                            $paperCodeDropdown.append('<option value="">Select Paper Code</option>'); // Default option

                            $.each(data, function (index, paperCode) {
                                $paperCodeDropdown.append(
                                    $('<option>', {
                                        value: paperCode,
                                        text: paperCode
                                    })
                                );
                            });
                            $paperCodeDropdown.prop('disabled', false); // Re-enable dropdown
                        },
                        error: function (xhr, status, error) {
                            console.error('Error fetching paper codes:', error);
                            $paperCodeDropdown.prop('disabled', false).empty().append('<option value="">Error loading paper codes</option>');
                            alert('An error occurred while fetching paper codes. Please try again.');
                        }
                    });
                });
            });

            // document.getElementById('NationalId').addEventListener('input', function (event) {
            //     // Replace any character that is not a letter, digit, or space
            //     const regex = /[^A-Z0-9]/g; // Matches any character that's not uppercase A-Z or digit 0-9
            //     const input = event.target;

            //     // Transform input value to uppercase and remove invalid characters
            //     input.value = input.value.toUpperCase().replace(regex, '');
            // });

            // document.getElementById('PhoneHome').addEventListener('input', function (event) {
            //     const input = event.target;
            //     const value = input.value;

            //     // Ensure the input starts with '07'
            //     if (!value.startsWith('07')) {
            //         input.value = '07' + value.replace(/^0*/, '').substring(0); // Remove any leading zeros and ensure no duplicates
            //     }

            //     // Optionally enforce a maximum length for the phone number
            //     if (input.value.length > 10) {
            //         input.value = input.value.substring(0, 10); // Limit to 10 characters
            //     }
            // });

        });


        document.addEventListener("DOMContentLoaded", function () {
            document.querySelectorAll("input[type='text'], input[type='number'], textarea").forEach(input => {
                input.addEventListener("input", function () {
                    this.value = this.value.toUpperCase();
                });
            });
        });
    </script>



    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
